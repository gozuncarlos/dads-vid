<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>In Loving Memory</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@1,400;1,600&family=Lato:wght@300;400&display=swap" rel="stylesheet">

    <style>
        * { 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100dvh; 
            background-color: #000;
            overflow: hidden; 
        }

        #container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #000;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: contain; 
            opacity: 0; 
            transition: opacity 0.5s ease;
        }

        #overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, #1f1f1f 0%, #000000 90%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 20px;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            color: white;
            font-weight: 400;
            font-size: 8vmin; 
            margin-bottom: 40px;
            text-shadow: 0 4px 10px rgba(0,0,0,0.5);
            line-height: 1.2;
        }

        .btn-wrapper {
            position: relative;
            width: 80px;
            height: 80px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .circle {
            width: 100%;
            height: 100%;
            border: 1px solid rgba(255,255,255,0.4);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .play-icon {
            position: absolute;
            width: 0; 
            height: 0; 
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            border-left: 20px solid white;
            margin-left: 5px; 
        }

        .tap-text {
            margin-top: 25px;
            font-family: 'Lato', sans-serif;
            color: rgba(255,255,255,0.7);
            font-size: 14px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .spinner {
            display: none; 
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            position: absolute;
        }

        .rotate-hint {
            position: absolute;
            bottom: 40px;
            font-family: 'Lato', sans-serif;
            color: #555;
            font-size: 11px;
            display: none;
        }
        
        @media (orientation: portrait) { .rotate-hint { display: block; } }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,255,255,0.4); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 15px rgba(255,255,255,0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255,255,255,0); }
        }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="container">
        
        <div id="overlay" onclick="startExperience()" ontouchstart="startExperience()">
            <h1>In Loving<br>Memory</h1>
            
            <div class="btn-wrapper">
                <div class="circle" id="btn-circle"></div>
                <div class="play-icon" id="btn-icon"></div>
                <div class="spinner" id="loading-spinner"></div>
            </div>

            <div class="tap-text" id="status-text">Watch Video</div>
            <div class="rotate-hint">â†» Rotate phone for best view</div>
        </div>

        <video id="vid" playsinline preload="auto">
            <source src="https://github.com/gozuncarlos/dads-vid/releases/download/video/funeral-ceremony.for.tito.dads.pptx.mp4" type="video/mp4">
        </video>

    </div>

    <script>
        var isTryingToPlay = false;

        function startExperience() {
            if (isTryingToPlay) return;
            isTryingToPlay = true;

            var video = document.getElementById('vid');
            var overlay = document.getElementById('overlay');
            var icon = document.getElementById('btn-icon');
            var spinner = document.getElementById('loading-spinner');
            var circle = document.getElementById('btn-circle');
            var text = document.getElementById('status-text');

            icon.style.display = 'none';
            circle.style.animation = 'none'; 
            circle.style.border = 'none';
            spinner.style.display = 'block';
            text.innerText = "LOADING...";

            video.play().then(() => {
                video.style.opacity = '1'; 
                overlay.style.opacity = '0'; 
                setTimeout(() => { 
                    overlay.style.visibility = 'hidden'; 
                }, 800);
            }).catch(error => {
                console.log(error);
                isTryingToPlay = false;
                spinner.style.display = 'none';
                icon.style.display = 'block';
                circle.style.border = '1px solid rgba(255,255,255,0.4)';
                text.innerText = "TAP TO PLAY";
            });
        }
    </script>

</body>
</html>
